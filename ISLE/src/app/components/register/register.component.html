<div class="register-container">
  <h2 class="title">註冊</h2>

  <form [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>
    <div class="form-control" [class.invalid]="form.controls['lastName'].invalid && form.controls['lastName'].touched">
      <label for="lastName">名字</label>
      <input id="lastName" type="text" formControlName="lastName" placeholder="請輸入名字" />
      <div class="error" *ngIf="form.controls['lastName'].errors && form.controls['lastName'].touched">
        <span *ngIf="form.controls['lastName'].errors['required']">請輸入名字</span>
        <span *ngIf="form.controls['lastName'].errors['minlength']">至少 1 個字元</span>
      </div>
    </div>

    <div class="form-control" [class.invalid]="form.controls['firstName'].invalid && form.controls['firstName'].touched">
      <label for="firstName">姓氏</label>
      <input id="firstName" type="text" formControlName="firstName" placeholder="請輸入姓氏" />
      <div class="error" *ngIf="form.controls['firstName'].errors && form.controls['firstName'].touched">
        <span *ngIf="form.controls['firstName'].errors['required']">請輸入姓氏</span>
        <span *ngIf="form.controls['firstName'].errors['minlength']">至少 1 個字元</span>
      </div>
    </div>

    <div class="form-control" [class.invalid]="form.controls['email'].invalid && form.controls['email'].touched">
      <label for="email">電子郵件</label>
      <input id="email" type="email" formControlName="email" placeholder="name@example.com" />
      <div class="error" *ngIf="form.controls['email'].errors && form.controls['email'].touched">
        <span *ngIf="form.controls['email'].errors['required']">請輸入電子郵件</span>
        <span *ngIf="form.controls['email'].errors['email']">格式不正確</span>
      </div>
    </div>

    <div class="form-control" [class.invalid]="form.controls['password'].invalid && form.controls['password'].touched">
      <label for="password">密碼</label>
      <input id="password" type="password" formControlName="password" placeholder="請輸入密碼" />
      <div class="error" *ngIf="form.controls['password'].errors && form.controls['password'].touched">
        <span *ngIf="form.controls['password'].errors['required']">請輸入密碼</span>
        <span *ngIf="form.controls['password'].errors['minlength']">至少 6 個字元</span>
      </div>
    </div>

    <button type="submit" class="btn" [disabled]="form.invalid || isSubmitting()">
      {{ isSubmitting() ? '建立中…' : '建立帳戶' }}
    </button>
  </form>

  <div class="login-hint">
    已經有帳戶了嗎 <a routerLink="/login">登入</a>
  </div>
</div>
